#!/usr/bin/env ruby

require "snowey"

args = Trollop::options do
  version "Snowey (c) Tom Arnfeld 2012; Version #{Snowey::VERSION}"
  banner <<-EOS
Snowey is a service for generating unique incremental ids in a distributed environment

Usage: 
       snowey [options]

Available [options]:
EOS

  opt :address, "Address to listen on (default is #{Snowey::OPT_ADDRESS})", :default => Snowey::OPT_ADDRESS
  opt :port, "Port to listen on (default is #{Snowey::OPT_PORT})", :default => Snowey::OPT_PORT
  opt :verbose, "Log messages into STDOUT (default is #{Snowey::OPT_VERBOSE})", :default => Snowey::OPT_VERBOSE
  opt :debug, "Log debug messages into STDOUT (default is #{Snowey::OPT_DEBUG})", :default => Snowey::OPT_DEBUG
end

# Fire up the snowey service
Snowey::Service.new(args)
